# RSSHub
RSSHub
–¶–µ–ª–∏ –æ–±—É—á–µ–Ω–∏—è
–†–∞–±–æ—Ç–∞ —Å —Ñ–æ—Ä–º–∞—Ç–∞–º–∏ XML –∏ RSS
–ü–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º –∏ –∫–∞–Ω–∞–ª—ã
–ü—É–ª —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤
PostgreSQL
–°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫–µ—Ä–∞
–ê–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π
–í —ç—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–µ –≤—ã —Å–æ–∑–¥–∞–¥–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ ‚Äî RSS–∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –∫–∞–Ω–∞–ª–æ–≤, –∫–æ—Ç–æ—Ä—ã–π:

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (CLI)
–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç RSS-–∫–∞–Ω–∞–ª—ã
–•—Ä–∞–Ω–∏—Ç —Å—Ç–∞—Ç—å–∏ –≤ PostgreSQL
–ê–≥—Ä–µ–≥–∏—Ä—É–µ—Ç RSS-–∫–∞–Ω–∞–ª—ã —Å –ø–æ–º–æ—â—å—é –ø—É–ª–∞ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ
–≠—Ç–æ —Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—â–∏—Ö RSS-–∫–∞–Ω–∞–ª—ã (–Ω–æ–≤–æ—Å—Ç–Ω—ã–µ —Å–∞–π—Ç—ã, –±–ª–æ–≥–∏, —Ñ–æ—Ä—É–º—ã). –û–Ω –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –æ—Å—Ç–∞–≤–∞—Ç—å—Å—è –≤ –∫—É—Ä—Å–µ —Å–æ–±—ã—Ç–∏–π, –Ω–µ –ø–æ—Å–µ—â–∞—è –∫–∞–∂–¥—ã–π —Å–∞–π—Ç –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏.

–¢–∞–∫–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –±—É–¥–µ—Ç –ø–æ–ª–µ–∑–µ–Ω –∂—É—Ä–Ω–∞–ª–∏—Å—Ç–∞–º, –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—è–º, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞–º –∏ –≤—Å–µ–º, –∫—Ç–æ —Ö–æ—á–µ—Ç –±—ã—Ç—å –≤ –∫—É—Ä—Å–µ –∏–Ω—Ç–µ—Ä–µ—Å—É—é—â–∏—Ö –∏—Ö —Ç–µ–º –±–µ–∑ –ª–∏—à–Ω–µ–≥–æ —à—É–º–∞. –¢–∞–∫–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–µ–ª–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –±–æ–ª–µ–µ –¥–æ—Å—Ç—É–ø–Ω–æ–π –∏ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π.

–ö–æ–Ω—Ç–µ–∫—Å—Ç
–í—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä–æ–µ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –∏–∑–≤–ª–µ–∫–∞–µ—Ç —Å—Ç–∞—Ç—å–∏ –∏–∑ RSS-–∫–∞–Ω–∞–ª–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏, –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Ö –≤ PostgreSQL. –í—ã —Ç–∞–∫–∂–µ —Ä–µ–∞–ª–∏–∑—É–µ—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º, –æ—Ç–≤–µ—á–∞—é—â–∏–π –∑–∞ —Ñ–æ–Ω–æ–≤—É—é –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É RSS-–∫–∞–Ω–∞–ª–æ–≤. –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é Docker Compose.

–û–±—â–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏
–í–∞—à –∫–æ–¥ –î–û–õ–ñ–ï–ù –±—ã—Ç—å –æ—Ç—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å gofumpt. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç–µ –æ—Ü–µ–Ω–∫—É 0.

–í–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –î–û–õ–ñ–ù–ê —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫.

–í–∞—à–∞ –ø—Ä–æ–≥—Ä–∞–º–º–∞ –ù–ï –î–û–õ–ñ–ù–ê –∑–∞–≤–µ—Ä—à–∞—Ç—å —Ä–∞–±–æ—Ç—É –Ω–µ–æ–∂–∏–¥–∞–Ω–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∏–∑-–∑–∞ —Ä–∞–∑—ã–º–µ–Ω–æ–≤–∞–Ω–∏—è –Ω—É–ª–µ–≤–æ–≥–æ —É–∫–∞–∑–∞—Ç–µ–ª—è, –≤—ã—Ö–æ–¥–∞ –∏–Ω–¥–µ–∫—Å–∞ –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –∏ —Ç. –¥.). –ï—Å–ª–∏ —ç—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –æ—Ü–µ–Ω–∫—É 0 –≤–æ –≤—Ä–µ–º—è –∑–∞—â–∏—Ç—ã.

–í–Ω–µ—à–Ω–∏–µ –ø–∞–∫–µ—Ç—ã —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å PostgreSQL. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª—é–±—ã—Ö –¥—Ä—É–≥–∏—Ö –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ —Å–Ω–∏–∂–µ–Ω–∏—é –æ—Ü–µ–Ω–∫–∏ –¥–æ 0.

–ï—Å–ª–∏ –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –æ—à–∏–±–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–≤–µ—Ä–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏), –ø—Ä–æ–≥—Ä–∞–º–º–∞ –î–û–õ–ñ–ù–ê:

–í—ã—Ö–æ–¥ —Å –Ω–µ–Ω—É–ª–µ–≤—ã–º –∫–æ–¥–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏—è
–û—Ç–æ–±—Ä–∞–∑–∏—Ç–µ —á—ë—Ç–∫–æ–µ –∏ –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
–ü—Ä–æ–µ–∫—Ç –î–û–õ–ñ–ï–ù —É—Å–ø–µ—à–Ω–æ –∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è —Å –ø–æ–º–æ—â—å—é —Å–ª–µ–¥—É—é—â–µ–π –∫–æ–º–∞–Ω–¥—ã, –∑–∞–ø—É—â–µ–Ω–Ω–æ–π –∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–≥–æ –∫–∞—Ç–∞–ª–æ–≥–∞ –ø—Ä–æ–µ–∫—Ç–∞:

$ go build -o rsshub .
–ü—Ä–æ–µ–∫—Ç –ù–ï –î–û–õ–ñ–ï–ù –≤—ã–¥–∞–≤–∞—Ç—å –Ω–∏–∫–∞–∫–∏—Ö –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ —Å —Ñ–ª–∞–≥–æ–º -race:
$ go run -race main.go
–ò–Ω—Ç–µ—Ä–≤–∞–ª –î–û–õ–ñ–ï–ù —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç–µ –æ—Ü–µ–Ω–∫—É 0.

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –î–û–õ–ñ–ù–û —Ç–∞–∫–∂–µ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞—Ç—å—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥—ã –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ. –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ –≤—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∏—Ç–µ –æ—Ü–µ–Ω–∫—É 0.

–û–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ß–∞—Å—Ç—å
–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
–î–æ–±–∞–≤—å—Ç–µ —Ñ–∞–π–ª docker-compose.yml, –≤ –∫–æ—Ç–æ—Ä–æ–º –∑–∞–ø—É—â–µ–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —Å–ª—É–∂–±—ã:

RSSHub ‚Äî –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
PostgreSQL ‚Äì –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—Ç–∞—Ç–µ–π
RSS-–∫–∞–Ω–∞–ª
–û—Å–Ω–æ–≤–Ω–∞—è —Ü–µ–ª—å –ø—Ä–æ–≥—Ä–∞–º–º—ã rsshub ‚Äî –ø–æ–ª—É—á–∏—Ç—å RSS —Ñ–∏–¥ –≤–µ–±-—Å–∞–π—Ç–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –µ–≥–æ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –≤ –Ω–∞—à–µ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –Ω–∞–º —É–¥–æ–±–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

RSS –†–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫ "Really Simple Syndication" ‚Äî —ç—Ç–æ —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–∞—Ç—å —Å–≤–µ–∂–∏–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å –≤–µ–±-—Å–∞–π—Ç–∞ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ. –û–Ω —à–∏—Ä–æ–∫–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ: –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Å–∞–π—Ç–æ–≤, –æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç, –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç RSS —Ñ–∏–¥.

–°—Ç—Ä—É–∫—Ç—É—Ä–∞ RSS-–∫–∞–Ω–∞–ª–∞
RSS –≠—Ç–æ –æ—Å–æ–±–∞—è XML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞. –ú—ã —É–ø—Ä–æ—Å—Ç–∏–º –∑–∞–¥–∞—á—É –∏ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏–º—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø–æ–ª—è—Ö. –ù–∏–∂–µ –ø—Ä–∏–≤–µ–¥—ë–Ω –ø—Ä–∏–º–µ—Ä –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:

<rss xmlns:atom="http://www.w3.org/2005/Atom" version="2.0">
<channel>
 <title>–ü—Ä–∏–º–µ—Ä RSS-–∫–∞–Ω–∞–ª–∞</title>
 <link>https://www.example.com</link>
 <description>–≠—Ç–æ –ø—Ä–∏–º–µ—Ä RSS-–∫–∞–Ω–∞–ª–∞</description>
 <item>
 <title>–ü–µ—Ä–≤–∞—è —Å—Ç–∞—Ç—å—è</title>
 <link>https://www.example.com/article1</link>
 <description>–≠—Ç–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–µ—Ä–≤–æ–π —Å—Ç–∞—Ç—å–∏.</description>
 <pubDate>–ü–Ω, 6 —Å–µ–Ω—Ç—è–±—Ä—è 2021 –≥., 12:00:00 –ø–æ –ì—Ä–∏–Ω–≤–∏—á—É</pubDate>
 </item>
 <item>
 <title>–í—Ç–æ—Ä–∞—è —Å—Ç–∞—Ç—å—è</title>
 <link>https://www.example.com/article2</link>
 <description>–≠—Ç–æ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –≤—Ç–æ—Ä–æ–π —Å—Ç–∞—Ç—å–∏.</description>
 <pubDate>–í—Ç, 7 —Å–µ–Ω—Ç—è–±—Ä—è 2021 –≥., 14:30:00 –ø–æ –ì—Ä–∏–Ω–≤–∏—á—É</pubDate>
 </item>
</channel>
</rss>
–ó–∞—Ç–µ–º –ø—Ä–µ–æ–±—Ä–∞–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ç–∏–ø –¥–æ–∫—É–º–µ–Ω—Ç–∞ –≤ —Ç–∞–∫–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:

—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ RSS-–∫–∞–Ω–∞–ª —Ç–∏–ø {
 –ö–∞–Ω–∞–ª —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ {
 –ó–∞–≥–æ–ª–æ–≤–æ–∫       —Å—Ç—Ä–æ–∫–∞    `xml:"title"`
		–°—Å—ã–ª–∫–∞        —Å—Ç—Ä–æ–∫–∞    `xml:"link"`
		–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∞    `xml:"description"`
		–≠–ª–µ–º–µ–Ω—Ç []RSS-—ç–ª–µ–º–µ–Ω—Ç `xml:"item"`
 } `xml:"–∫–∞–Ω–∞–ª"`
}

—Ç–∏–ø RSS-—ç–ª–µ–º–µ–Ω—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ {
 –ó–∞–≥–æ–ª–æ–≤–æ–∫       —Å—Ç—Ä–æ–∫–∞ `xml:"title"`
	–°—Å—ã–ª–∫–∞        —Å—Ç—Ä–æ–∫–∞ `xml:"link"`
	–û–ø–∏—Å–∞–Ω–∏–µ —Å—Ç—Ä–æ–∫–∞ `xml:"description"`
	–î–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏     —Å—Ç—Ä–æ–∫–∞ `xml:"pubDate"`
}
If there are additional fields in the XML, the parser will simply ignore them. If some fields are missing, they will retain their default (zero) values.

Accordingly, you will need to implement an RSS parser that performs an HTTP request using the feed URL stored in the database.

Periodic Feed Aggregation
Feeds are essentially lists of publications. Each publication is a separate web page. The main goal of the rsshub program is to fetch actual publications using the URLs from RSS feeds and store them in the database. This allows us to display them nicely in the CLI.

You need to create a mechanism that regularly retrieves feed URLs from the database, compares them with new articles from the RSS feeds, and saves any changes to the database. Priority should be given to feeds that have not been updated for a long time or have never been updated.

This mechanism must run in the background at a specified interval. The default interval should be 3 minutes. This interval should also be configurable using a CLI command. The command must be able to change the interval while the application is running, without stopping the background aggregation process.

To improve performance, implement a worker pool for parallel processing of multiple articles:

On each timer tick, retrieve the N most outdated or never-updated feeds from the database.

Distribute them across the worker pool (goroutines).

Each worker:

Downloads the feed by its URL
Parses new articles
Saves them to Postgres
The application should be able to change the ticker interval and size of workers without restarting the application.

Default behavior:

Default settings must be defined in the application configuration
Default interval: 3 minutes
Default number of workers: 3
Mechanism requirements:

The ticker must be controllable: it should be possible to stop and restart it with a new interval
The worker pool must be scalable: workers can be stopped or added dynamically
What to Avoid

Problem	How to Avoid
‚ùå Data Race	Use sync.Mutex or atomic when accessing shared variables (e.g., n, interval)
‚ùå Goroutine Leaks	All spawned goroutines (ticker, workers) must be terminated using context.Context or a done channel
‚ùå Duplicate Tickers	When calling SetInterval(), always stop the old ticker before starting a new one
‚ùå Closing Channel Twice	Channels (e.g., jobs) must be closed by only one goroutine
‚ùå Panic on ticker.Reset()	Never call Reset() on a stopped ticker
‚ùå Unconsumed jobs Channel	Workers must read from the jobs channel; otherwise, writing to the channel will cause a deadlock
What Needs to Be Implemented

Structures for the ticker and worker pool
Workers ‚Äî read from the jobs channel and process articles
The jobs channel must be created and closed correctly
Using context cancellation to implement graceful shutdown
The code should be structured as a service (in internal/)
The interface is below:
type YourAggregator interface {
    Start(ctx context.Context) error           // Starts background feed polling
    Stop() error                               // Graceful shutdown

    SetInterval(d time.Duration)               // Dynamically changes fetch interval
    Resize(workers int) error                  // Dynamically resizes worker pool
    ...
}
WARNING
Do NOT DoS the servers you're fetching feeds from. Anytime you write code that makes a request to a third party server you should be sure that you are not making too many requests too quickly. That's why I recommend printing to the console for each request, and being ready with a quick Ctrl+C to stop the program if you see something going wrong.

DoS attack - read more.

WARNING
Implement the following commands
Start background fetching
Starts the background process that periodically fetches and processes RSS feeds using a worker pool.

rsshub fetch
This command launches:

The RSS fetcher loop (ticker-based)
The worker pool for concurrent feed parsing and storage
After executing this command, the application must log a confirmation message like:

The background process for fetching feeds has started (interval = 3 minutes, workers = 3)
Important: Only one instance of the background process can be running at a time. If you try to start it again while it‚Äôs already active, the application must log:

–§–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å —É–∂–µ –∑–∞–ø—É—â–µ–Ω
–≠—Ç–æ —Å–¥–µ–ª–∞–Ω–æ –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–±–æ—Ä—â–∏–∫–æ–≤ –¥–∞–Ω–Ω—ã—Ö –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∏ –Ω–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–ª–∏ —Ä–∞–±–æ—Ç—É.

–î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π RSS-–∫–∞–Ω–∞–ª
–ö–æ–º–∞–Ω–¥–∞ –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–π RSS-–∫–∞–Ω–∞–ª –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

rsshub add --name "tech-crunch" --url "https://techcrunch.com/feed/"
–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ò–Ω—Ç–µ—Ä–≤–∞–ª –≤—ã–±–æ—Ä–∫–∏ –ø–æ RSS
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è–µ—Ç —á–∞—Å—Ç–æ—Ç—É —Ñ–æ–Ω–æ–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ RSS-–∫–∞–Ω–∞–ª–æ–≤.

rsshub —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª 2 –º–∏–Ω—É—Ç—ã
–ü—Ä–∏–º–µ—Ä: –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 2 –º–∏–Ω—É—Ç—ã.

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:

–ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–∏–ª—Å—è —Å 3 –º–∏–Ω—É—Ç –Ω–∞ 2 –º–∏–Ω—É—Ç—ã
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ rsshub fetch –∑–∞–ø—É—â–µ–Ω–∞ –≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç –∏–Ω—Ç–µ—Ä–≤–∞–ª —Ç–∏–∫–µ—Ä–∞ –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
–£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤
–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –∏–∑–º–µ–Ω—è–µ—Ç —Ä–∞–∑–º–µ—Ä —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø—É–ª–∞ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, –∫–æ—Ç–æ—Ä—ã–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç RSS-–∫–∞–Ω–∞–ª—ã.

rsshub set-workers 5
–ü—Ä–∏–º–µ—Ä: –∑–∞–ø—É—Å—Ç–∏—Ç–µ 5 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤.

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é—â–µ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ:

–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤ —É–≤–µ–ª–∏—á–∏–ª–æ—Å—å —Å 3 –¥–æ 5
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ —Ç–æ–º —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –∫–æ–º–∞–Ω–¥–∞ rsshub fetch –∑–∞–ø—É—â–µ–Ω–∞ –≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
–≠—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏–µ –≤—Å—Ç—É–ø–∞–µ—Ç –≤ —Å–∏–ª—É –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ, –±–µ–∑ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ —Ü–∏–∫–ª–∞ –≤—ã–±–æ—Ä–∫–∏.
–°–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö RSS-–∫–∞–Ω–∞–ª–æ–≤
–ö–æ–º–∞–Ω–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç RSS-–∫–∞–Ω–∞–ª—ã, —Ö—Ä–∞–Ω—è—â–∏–µ—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö PostgreSQL.

rsshub list --num 5
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö –∫–∞–Ω–∞–ª–æ–≤. –ë–µ–∑ --num –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –∫–∞–Ω–∞–ª—ã.

–í—ã—Ö–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç:

# –î–æ—Å—Ç—É–ø–Ω—ã–µ RSS-–∫–∞–Ω–∞–ª—ã

1. –ù–∞–∑–≤–∞–Ω–∏–µ: tech-crunch
 URL: https://techcrunch.com/feed/
 –î–æ–±–∞–≤–ª–µ–Ω–æ: 2025-06-10 15:34

2. –ù–∞–∑–≤–∞–Ω–∏–µ: hacker-news
 URL: https://news.ycombinator.com/rss
 –î–æ–±–∞–≤–ª–µ–Ω–æ: 2025-06-10 15:37

3. –ù–∞–∑–≤–∞–Ω–∏–µ: bbc-world
 URL: http://feeds.bbci.co.uk/news/world/rss.xml
 –î–æ–±–∞–≤–ª–µ–Ω–æ: 11 –∏—é–Ω—è 2025 –≥. –≤ 09:15

4. –ù–∞–∑–≤–∞–Ω–∏–µ: the-verge
 URL: https://www.theverge.com/rss/index.xml
 –î–æ–±–∞–≤–ª–µ–Ω–æ: 12 –∏—é–Ω—è 2025 –≥. –≤ 13:50

5. –ù–∞–∑–≤–∞–Ω–∏–µ: ars-technica
 URL: http://feeds.arstechnica.com/arstechnica/index
 –î–æ–±–∞–≤–ª–µ–Ω–æ: 13 –∏—é–Ω—è 2025 –≥. –≤ 08:25
–£–¥–∞–ª–∏—Ç—å RSS-–∫–∞–Ω–∞–ª
–ö–æ–º–∞–Ω–¥–∞ —É–¥–∞–ª—è–µ—Ç —Ñ–∏–¥ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö PostgreSQL –ø–æ –∏–º–µ–Ω–∏.

rsshub —É–¥–∞–ª–∏—Ç—å --–∏–º—è "tech-crunch"
–ü—Ä–∏–º–µ—Ä: —É–¥–∞–ª–∏—Ç–µ –ª–µ–Ω—Ç—É TechCrunch –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞.

–ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
–ö–æ–º–∞–Ω–¥–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å—Ç–∞—Ç—å–∏ –∏–∑ PostgreSQL –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∫–∞–Ω–∞–ª–∞.

rsshub articles --feed-name "tech-crunch" --num 5
–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç 5 –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å—Ç–∞—Ç–µ–π –∏–∑ —É–∫–∞–∑–∞–Ω–Ω–æ–π –ª–µ–Ω—Ç—ã. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è 3 —Å—Ç–∞—Ç—å–∏, –µ—Å–ª–∏ --num –Ω–µ —É–∫–∞–∑–∞–Ω–æ.

–í—ã—Ö–æ–¥–Ω–æ–π —Ñ–æ—Ä–º–∞—Ç:

–ò—Å—Ç–æ—á–Ω–∏–∫: tech-crunch

1. [2025-06-18] Apple –∞–Ω–æ–Ω—Å–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–µ —á–∏–ø—ã M4 –¥–ª—è MacBook Pro
 https://techcrunch.com/apple-announces-m4/

2. [2025-06-17] OpenAI –∑–∞–ø—É—Å–∫–∞–µ—Ç GPT-5 —Å –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏
 https://techcrunch.com/openai-launches-gpt-5/

3. [16.06.2025] Google –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏ I/O 2025
 https://techcrunch.com/google-privacy-io-2025/

4. [15.06.2025] TikTok –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–ª–∞—Ç—Ñ–æ—Ä–º—É –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
 https://techcrunch.com/tiktok-developer-platform/

5. [14.06.2025] –í Microsoft Teams –ø–æ—è–≤–∏–ª–∞—Å—å —Ñ—É–Ω–∫—Ü–∏—è –æ–±–æ–±—â–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–æ–≤–µ—â–∞–Ω–∏—è—Ö —Å –ø–æ–º–æ—â—å—é –ò–ò
 https://techcrunch.com/microsoft-teams-ai-summary/
–ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É CLI
–ö–æ–º–∞–Ω–¥–∞ –≤—ã–≤–æ–¥–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –∏ –æ–ø–∏—Å–∞–Ω–∏—è –≤—Å–µ—Ö –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –∫–æ–º–∞–Ω–¥.

rsshub - —Å–ø—Ä–∞–≤–∫–∞
–ü—Ä–∏–º–µ—Ä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:

$ ./rsshub --help

 –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
 rsshub –ö–û–ú–ê–ù–î–ê [–ü–ê–†–ê–ú–ï–¢–†–´]

 –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:
 add ‚Äî –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ RSS-–∫–∞–Ω–∞–ª–∞
 set-interval —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ–ª—É—á–µ–Ω–∏—è RSS-–∫–∞–Ω–∞–ª–æ–≤
 set-workers —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
 list ‚Äî —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö RSS-–∫–∞–Ω–∞–ª–æ–≤
 delete ‚Äî —É–¥–∞–ª–µ–Ω–∏–µ RSS-–∫–∞–Ω–∞–ª–∞
 articles ‚Äî –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å—Ç–∞—Ç–µ–π
 fetch ‚Äî –∑–∞–ø—É—Å–∫ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –ø–æ–ª—É—á–∞–µ—Ç –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç RSS-–∫–∞–Ω–∞–ª—ã —Å –ø–æ–º–æ—â—å—é –ø—É–ª–∞ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
–ö–∞–∫ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä
–ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—Ç–∞—é—â–∏–π —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å:

–ù–∞–∂–º–∏—Ç–µ Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ, –≥–¥–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –∫–æ–º–∞–Ω–¥–∞ rsshub fetch

–∏–ª–∏

–û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–∏–≥–Ω–∞–ª –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, SIGINT, SIGTERM) –∏–∑ –¥—Ä—É–≥–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞

–ü—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:

–û—Ç–º–µ–Ω–∏—Ç–µ —Ñ–æ–Ω–æ–≤—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
–ü–ª–∞–≤–Ω–æ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ç–∞–π–º–µ—Ä –∏ –≤—Å–µ—Ö —Ä–∞–±–æ—Ç–Ω–∏–∫–æ–≤
–ó–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º:
–ò–∑—è—â–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã: –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
–í –æ–¥–Ω–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä
$ ./rsshub fetch
$ –ó–∞–ø—É—â–µ–Ω —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤ (–∏–Ω—Ç–µ—Ä–≤–∞–ª = 3 –º–∏–Ω—É—Ç—ã, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ = 3)


# –ß—Ç–æ–±—ã –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å: –Ω–∞–∂–º–∏—Ç–µ Ctrl+C
$ –ò–∑—è—â–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã: –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω
–í –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: –∏–∑–º–µ–Ω–∏—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

$ ./rsshub set-interval --duration 2m
$ –ò–Ω—Ç–µ—Ä–≤–∞–ª –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–∏–ª—Å—è —Å 3 –º–∏–Ω—É—Ç –Ω–∞ 2 –º–∏–Ω—É—Ç—ã

$ ./rsshub set-workers --count 4
$ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å —Å 3 –¥–æ 5
–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
PostgreSQL
üóÇ –¢–∞–±–ª–∏—Ü–∞ –∫–∞–Ω–∞–ª–æ–≤ (feeds) –°–æ–¥–µ—Ä–∂–∏—Ç –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –æ –∫–∞–∂–¥–æ–º –∫–∞–Ω–∞–ª–µ RSS, –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–º –≤ —Å–∏—Å—Ç–µ–º—É.

–ü–æ–ª–µ	–¢–∏–ø	–û–ø–∏—Å–∞–Ω–∏–µ
ID	UUID (PK)	–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è –∫–∞–Ω–∞–ª–∞
—Å–æ–∑–¥–∞–Ω–Ω—ã–π_–∞—Ç	–í–†–ï–ú–ï–ù–ù–ê–Ø –ú–ï–¢–ö–ê	–ö–æ–≥–¥–∞ –±—ã–ª –¥–æ–±–∞–≤–ª–µ–Ω –∫–æ—Ä–º
–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π_–∞—Ç	–í–†–ï–ú–ï–ù–ù–ê–Ø –ú–ï–¢–ö–ê	–ö–æ–≥–¥–∞ –ª–µ–Ω—Ç–∞ –æ–±–Ω–æ–≤–ª—è–ª–∞—Å—å –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑
–ò–º—è	–¢–ï–ö–°–¢ (—É–Ω–∏–∫–∞–ª—å–Ω—ã–π)	–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
url -–∞–¥—Ä–µ—Å	–¢–ï–ö–°–¢	URL-–∞–¥—Ä–µ—Å RSS-–∫–∞–Ω–∞–ª–∞
üìù –≠—Ç–∞ —Ç–∞–±–ª–∏—Ü–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—Å–µ—Ö RSS-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä. URL-–∞–¥—Ä–µ—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö, –∞ –Ω–∞–∑–≤–∞–Ω–∏–µ ‚Äî –¥–ª—è —Å—Å—ã–ª–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª—ã —Å –ø–æ–º–æ—â—å—é –∫–æ–º–∞–Ω–¥ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏.

üì∞ –¢–∞–±–ª–∏—Ü–∞ —Å—Ç–∞—Ç–µ–π (articles) –°–æ–¥–µ—Ä–∂–∏—Ç –≤—Å–µ —Å—Ç–∞—Ç—å–∏, –∏–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ –∏–∑ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö RSS-–∫–∞–Ω–∞–ª–æ–≤.

–ü–æ–ª–µ	–¢–∏–ø	–û–ø–∏—Å–∞–Ω–∏–µ
ID	UUID (PK)	–£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–ª—è —Å—Ç–∞—Ç—å–∏
—Å–æ–∑–¥–∞–Ω–Ω—ã–π_–∞—Ç	–í–†–ï–ú–ï–ù–ù–ê–Ø –ú–ï–¢–ö–ê	–ö–æ–≥–¥–∞ —Å—Ç–∞—Ç—å—è —Ö—Ä–∞–Ω–∏–ª–∞—Å—å
–æ–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π_–∞—Ç	–í–†–ï–ú–ï–ù–ù–ê–Ø –ú–ï–¢–ö–ê	–ö–æ–≥–¥–∞ —Å—Ç–∞—Ç—å—è –±—ã–ª–∞ –∏–∑–º–µ–Ω–µ–Ω–∞ –≤ –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑
–ù–∞–∑–≤–∞–Ω–∏–µ	–¢–ï–ö–°–¢	–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏
–°—Å—ã–ª–∫–∞	–¢–ï–ö–°–¢	–ö–∞–Ω–æ–Ω–∏—á–µ—Å–∫–∏–π URL-–∞–¥—Ä–µ—Å —Å—Ç–∞—Ç—å–∏
–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–π —Ñ–∞–π–ª_at	–í–†–ï–ú–ï–ù–ù–ê–Ø –ú–ï–¢–ö–ê	–û—Ç–º–µ—Ç–∫–∞ –≤—Ä–µ–º–µ–Ω–∏ –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏
–û–ø–∏—Å–∞–Ω–∏–µ	–¢–ï–ö–°–¢	–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è –∏–∑ RSS-–∫–∞–Ω–∞–ª–∞
feed_id ( –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –∫–∞–Ω–∞–ª–∞ )	UUID	–í–Ω–µ—à–Ω–∏–π –∫–ª—é—á, —Å—Å—ã–ª–∞—é—â–∏–π—Å—è –Ω–∞ feeds.id
üìù –í —ç—Ç–æ–π —Ç–∞–±–ª–∏—Ü–µ —Å–æ–±—Ä–∞–Ω—ã –≤—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏ —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–º RSS-–∫–∞–Ω–∞–ª—ã. –û–Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–µ–¥—É–ø–ª–∏–∫–∞—Ü–∏—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –∫ –ø–æ—Å–ª–µ–¥–Ω–∏–º –ø—É–±–ª–∏–∫–∞—Ü–∏—è–º –≤ –∫–∞–∂–¥–æ–º –∫–∞–Ω–∞–ª–µ.

–≠—Ç–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ç–∞–±–ª–∏—Ü. –í–∞–º –ª—É—á—à–µ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–ª—è.

–ú–∏–≥—Ä–∞—Ü–∏–∏
–ú–∏–≥—Ä–∞—Ü–∏–∏ ‚Äî —ç—Ç–æ –Ω–∞–±–æ—Ä —Ñ–∞–π–ª–æ–≤ —Å –≤–µ—Ä—Å–∏—è–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –æ–ø–∏—Å—ã–≤–∞—é—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—Ö–µ–º–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (DDL): —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü, –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–æ–ª–±—Ü–æ–≤, –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω–¥–µ–∫—Å–æ–≤ –∏ —Ç. –¥.

–ü—Ä–∏–º–µ—Ä:

migrations/
‚îú‚îÄ‚îÄ create_feeds_table.up.sql
‚îî‚îÄ‚îÄ create_feeds_table.down.sql
*.up.sql ‚Äî –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–π SQL
*.down.sql ‚Äî SQL-–∑–∞–ø—Ä–æ—Å, –∫–æ—Ç–æ—Ä—ã–π –±—ã–ª –æ—Ç–º–µ–Ω—ë–Ω
create_feeds_table.up.sql:

–∫–∞–Ω–∞–ª—ã –¢–ê–ë–õ–ò–¶–ê –°–û–ó–î–ê–¢–¨ (
 //TODO
);
create_feeds_table.down.sql:

–¢–ê–ë–õ–ò–¶–ê –£–î–ê–õ–ò–¢–¨ –ï–°–õ–ò –°–£–©–ï–°–¢–í–£–ï–¢ feeds;
–ù–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
# –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ CLI
CLI_APP_TIMER_INTERVAL=3m
CLI_APP_WORKERS_COUNT=3

# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_PASSWORD=changem
POSTGRES_DBNAME=rsshub
–°–æ–∑–¥–∞–Ω–∏–µ –¥–æ–∫–µ—Ä–∞
–ó–∞–ø—É—Å–∫–∏:

RSSHub (–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ CLI)
PostgreSQL (–ø–æ—Ä—Ç: 5432)
—É–∫–∞–∂–∏—Ç–µ –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –ø–∞—Ä–æ–ª—å –∏ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö env
–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –æ—Ç –ê–≤—Ç–æ—Ä–∞
–ù–∞—á–Ω–∏—Ç–µ —Å –æ–¥–Ω–æ–≥–æ RSS-–∫–∞–Ω–∞–ª–∞ –∏ –∫–æ–º–∞–Ω–¥—ã CLI –¥–ª—è –µ–≥–æ –ø–æ–ª—É—á–µ–Ω–∏—è
–†–µ–∞–ª–∏–∑—É–π—Ç–µ –º–µ—Ö–∞–Ω–∏–∑–º –∞–≥—Ä–µ–≥–∞—Ü–∏–∏ —Å –ø–æ–º–æ—â—å—é —Ñ–æ–Ω–æ–≤–æ–≥–æ —Ç–∞–π–º–µ—Ä–∞
–î–æ–±–∞–≤—å—Ç–µ –ø—É–ª —Ä–∞–±–æ—á–∏—Ö –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostgreSQL –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏—é –±–∞–∑ –¥–∞–Ω–Ω—ã—Ö
–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª docker-compose.yml –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–í –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–≥–∏–∫—É —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
–í–æ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ RSS-–∫–∞–Ω–∞–ª–æ–≤ –¥–ª—è –Ω–∞—á–∞–ª–∞:

TechCrunch: https://techcrunch.com/feed/
–ù–æ–≤–æ—Å—Ç–∏ —Ö–∞–∫–µ—Ä–æ–≤: https://news.ycombinator.com/rss
–ù–æ–≤–æ—Å—Ç–∏ –û–û–ù: https://news.un.org/feed/subscribe/ru/news/all/rss.xml
–ù–æ–≤–æ—Å—Ç–∏ –ë–∏ - –±–∏ - —Å–∏: https://feeds.bbci.co.uk/news/world/rss.xml
Ars Technica ( –ê—Ä—Å –¢–µ—Ö–Ω–∏–∫–∞ ): http://feeds.arstechnica.com/arstechnica/index
–ù–∞ –ì—Ä–∞–Ω–∏: https://www.theverge.com/rss/index.xml
–ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ (–ø—Ä–∏—è—Ç–Ω–æ –∏–º–µ—Ç—å)
–î–ª—è –≤–∞—à–µ–≥–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ —Ä–∞–∑–≤–∏—Ç–∏—è (–ë—É–¥—É—â–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏):

–†–µ–∞–ª–∏–∑—É–π—Ç–µ –≤–µ–±-API –¥–ª—è –≤–Ω–µ—à–Ω–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞
–î–æ–±–∞–≤—å—Ç–µ Telegram-–±–æ—Ç–∞, —á—Ç–æ–±—ã —É–≤–µ–¥–æ–º–ª—è—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ –Ω–æ–≤—ã—Ö —Å—Ç–∞—Ç—å—è—Ö
–ü–æ–¥–¥–µ—Ä–∂–∫–∞
–í—Å–µ–≥–¥–∞ —Å–ª–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —Å —á–µ–≥–æ –Ω–∞—á–∞—Ç—å. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Ä–∞–∑–±–∏—Ç—å –∑–∞–¥–∞—á—É –Ω–∞ –±–æ–ª–µ–µ –º–µ–ª–∫–∏–µ —á–∞—Å—Ç–∏, –∫–∞–∂–¥–∞—è –∏–∑ –∫–æ—Ç–æ—Ä—ã—Ö —Ä–µ—à–∞–µ—Ç –æ–¥–Ω—É –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É. –ó–∞—Ç–µ–º –æ–±—ä–µ–¥–∏–Ω–∏—Ç–µ –∏ —Ä–∞—Å—à–∏—Ä—å—Ç–µ –∏—Ö ‚Äî –≤ –∏—Ç–æ–≥–µ —É –≤–∞—Å –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ.

–£–¥–∞—á–∏ –≤–∞–º –∏ –ø—Ä–∏—è—Ç–Ω–æ–≥–æ –≤—Ä–µ–º—è–ø—Ä–µ–ø—Ä–æ–≤–æ–∂–¥–µ–Ω–∏—è :3

–ê–≤—Ç–æ—Ä
–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –±—ã–ª —Å–æ–∑–¥–∞–Ω:

@trech

–ö–æ–Ω—Ç–∞–∫—Ç—ã:

–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞
GitHub
Discord
LinkedIn